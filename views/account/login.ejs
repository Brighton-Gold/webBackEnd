<%- include('../partials/header') -%>

    <main>
        <h1>
            <%= title %>
        </h1>
        <% if (messages) { %>
            <div class="flash-messages">
                <% Object.keys(messages).forEach(function (type) { %>
                    <% messages[type].forEach(function (message) { %>
                        <div class="<%= type %>">
                            <%= message %>
                        </div>
                        <% }); %>
                            <% }); %>
            </div>
            <% } %>

                <% if (errors) { %>
                    <ul class="notice">
                        <% errors.array().forEach(error=> { %>
                            <li>
                                <%= error.msg %>
                            </li>
                            <% }) %>
                    </ul>
                    <% } %>

                        <form id="loginForm" action="/account/login" method="post">
                            <div class="form-group">
                                <label for="account_email">Email:</label>
                                <input type="email" id="account_email" name="account_email" required
                                    value="<%=locals.account_email%>">
                            </div>
                            <div class="form-group">
                                <label for="account_password">Password:</label>
                                <input type="password" id="account_password" name="account_password" required
                                    pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$">
                            </div>
                            <button type="submit">Login</button>
                        </form>

                        <p>Don't have an account? <a href="/account/register">Register</a></p>
    </main>

    <%- include('../partials/footer') -%>